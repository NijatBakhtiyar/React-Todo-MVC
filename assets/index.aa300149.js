var f=Object.defineProperty,b=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var m=(o,e,t)=>e in o?f(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,a=(o,e)=>{for(var t in e||(e={}))g.call(e,t)&&m(o,t,e[t]);if(u)for(var t of u(e))k.call(e,t)&&m(o,t,e[t]);return o},h=(o,e)=>b(o,C(e));import{j as p,r as l,R as S,a as y}from"./vendor.6fccbe6b.js";const v=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}};v();const s=p.exports.jsx,c=p.exports.jsxs;class L extends l.exports.Component{render(){const{unCheckedCount:e,onTypeChange:t,clearCompleted:n,todoType:i}=this.props;return c("div",{className:"todo-bottom",children:[c("p",{className:"item-left",children:[e," items left"]}),c("nav",{children:[s("button",{className:i==="all"?"active":"",onClick:()=>t("all"),children:"All"}),s("button",{className:i==="active"?"active":"",onClick:()=>t("active"),children:"Active"}),s("button",{className:i==="completed"?"active":"",onClick:()=>t("completed"),children:"Completed"})]}),s("button",{className:"clear-completed",onClick:n,children:"Clear completed"})]})}}class x extends l.exports.Component{constructor(){super();this.formSubmit=this.formSubmit.bind(this)}formSubmit(e){e.preventDefault(),this.props.onSubmit(e.currentTarget.todo.value),e.currentTarget.reset()}render(){return s("div",{className:"todo-input",children:s("form",{onSubmit:this.formSubmit,children:s("input",{type:"text",name:"todo",placeholder:"What needs to be done?",required:!0})})})}}class E extends l.exports.Component{constructor(){super();this.state={isEditing:!1},this.updateIsEditing=this.updateIsEditing.bind(this),this.formSubmit=this.formSubmit.bind(this)}updateIsEditing(){this.setState({isEditing:!0})}formSubmit(e){e.preventDefault(),this.props.onEdit(this.props.todo.id,e.currentTarget.todo.value),this.setState({isEditing:!1})}render(){const{todo:e,onDelete:t,onChecked:n}=this.props,{isEditing:i}=this.state;return c("div",{className:"todo-item",children:[c("label",{onDoubleClick:this.updateIsEditing,children:[s("input",{type:"checkbox",onChange:()=>n(e.id),checked:e.checked?"checked":""}),i?s("form",{onSubmit:this.formSubmit,children:s("input",{type:"text",name:"todo",className:"note",defaultValue:e.name,required:!0})}):s("span",{className:e.checked?"checked":null,children:e.name})]}),s("button",{onClick:()=>t(e.id),children:"X"})]})}}class T extends l.exports.Component{constructor(e){super(e);this.state={todoList:[],todoType:"all"},this.onSubmit=this.onSubmit.bind(this),this.onDelete=this.onDelete.bind(this),this.onChecked=this.onChecked.bind(this),this.onTypeChange=this.onTypeChange.bind(this),this.clearCompleted=this.clearCompleted.bind(this),this.onEdit=this.onEdit.bind(this)}clearCompleted(){this.setState({todoList:this.state.todoList.filter(e=>e.checked===!1)})}onSubmit(e){const t={name:e,checked:!1,id:+new Date};this.setState({todoList:[...this.state.todoList,t]})}onDelete(e){this.setState({todoList:this.state.todoList.filter(t=>t.id!==e)})}onChecked(e){this.setState({todoList:this.state.todoList.map(t=>t.id===e?h(a({},t),{checked:!t.checked}):t)})}onTypeChange(e){this.setState({todoType:e})}onEdit(e,t){this.setState({todoList:this.state.todoList.map(n=>e===n.id?h(a({},n),{name:t}):n)})}render(){const{todoList:e,todoType:t}=this.state,n=e.filter(d=>d.checked===!1),i=e.filter(d=>d.checked===!0),r=t==="all"?e:t==="active"?n:i;return c("div",{className:"todos",children:[s(x,{onSubmit:this.onSubmit}),r.map(d=>s(E,{todo:d,onDelete:this.onDelete,onChecked:this.onChecked,onEdit:this.onEdit},d.id)),this.state.todoList.length>0&&s(L,{unCheckedCount:n.length,onTypeChange:this.onTypeChange,clearCompleted:this.clearCompleted,todoType:t})]})}}class N extends S.Component{render(){return c("div",{className:"App",children:[s("h1",{children:"Todos"}),s(T,{})]})}}y.render(s(N,{}),document.getElementById("root"));
